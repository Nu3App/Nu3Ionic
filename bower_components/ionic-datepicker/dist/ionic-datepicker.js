"use strict";angular.module("ionic-datepicker",["ionic","ionic-datepicker.templates"]).directive("ionicDatepicker",["$ionicPopup",function(e){return{restrict:"AE",replace:!0,scope:{ipDate:"=idate"},link:function(t,a){var n=["January","February","March","April","May","June","July","August","September","October","November","December"],o=angular.copy(t.ipDate);t.weekNames=["S","M","T","W","T","F","S"],t.today={},t.today.dateObj=new Date,t.today.date=(new Date).getDate(),t.today.month=(new Date).getMonth(),t.today.year=(new Date).getFullYear();var r=function(e){t.selctedDateString=new Date(e).toString(),o=angular.copy(e);var a=new Date(e.getFullYear(),e.getMonth(),1).getDate(),r=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();t.dayList=[];for(var l=a;r>=l;l++){var i=new Date(e.getFullYear(),e.getMonth(),l);t.dayList.push({date:i.getDate(),month:i.getMonth(),year:i.getFullYear(),day:i.getDay(),dateString:i.toString(),epochLocal:i.getTime(),epochUTC:i.getTime()+60*i.getTimezoneOffset()*1e3})}for(var a=t.dayList[0].day,c=0;a>c;c++)t.dayList.unshift({});t.rows=[],t.cols=[],t.currentMonth=n[e.getMonth()],t.currentYear=e.getFullYear(),t.numColumns=7,t.rows.length=6,t.cols.length=t.numColumns};t.prevMonth=function(){1===o.getMonth()&&o.setFullYear(o.getFullYear()),o.setMonth(o.getMonth()-1),t.currentMonth=n[o.getMonth()],t.currentYear=o.getFullYear(),r(o)},t.nextMonth=function(){11===o.getMonth()&&o.setFullYear(o.getFullYear()),o.setMonth(o.getMonth()+1),t.currentMonth=n[o.getMonth()],t.currentYear=o.getFullYear(),r(o)},t.date_selection={selected:!1,selectedDate:"",submitted:!1},t.dateSelected=function(e){t.selctedDateString=e.dateString,t.date_selection.selected=!0,t.date_selection.selectedDate=new Date(e.dateString)},a.on("click",function(){if(t.ipDate)r(angular.copy(t.ipDate));else{var a=new Date;r(a)}e.show({templateUrl:"date-picker-modal.html",title:"<strong>Select Date</strong>",subTitle:"",scope:t,buttons:[{text:"Close"},{text:"Today",onTap:function(e){r(new Date),e.preventDefault()}},{text:"Set",type:"button-positive",onTap:function(e){t.date_selection.submitted=!0,t.date_selection.selected===!0?t.ipDate=angular.copy(t.date_selection.selectedDate):e.preventDefault()}}]})})}}}]);